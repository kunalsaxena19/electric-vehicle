require(['jquery','jquery/ui','slick'],function($){$(document).ready(function(){var field_label=$(".corporate-orders input");if(field_label!=''){$(".corporate-orders span").addClass('field_fillup');}else{$(".corporate-orders span").removeClass('field_fillup')}
$(document).on("click","#select-city",function(){$('.corporate_city  #dropdown-city').toggle();if($(window).width()<=767){$('body').toggleClass('popup_overlapping');}});$(document).on("click","#purp_buy",function(){$('.purpose_buying #pur_drop').toggle();});$(document).on("click",".contact-form_cityDropDownWrapper .contact-form_selectWrapper",function(){$('.contact-form_cityDropDownWrapper .contact-form_selectWrapper #select-city').toggleClass('contact_city_active');});$(document).on("click",".contact-form_selectWrapper.types-of-enquiries",function(){$('.contact-form_selectWrapper.types-of-enquiries #purp_buy').toggleClass('contact_city_active');});$('#business_go_it_buttons').click(function(){window.location.href='s1';})
$('#business-enquiry-success .business_enquiry_icon').click(function(){$("#business-enquiry-success").hide();});jQuery('.request_experts_call').click(function(){jQuery('.columns .column.main').attr('style','z-index: -1');})
jQuery('.interested-close').click(function(){jQuery('.columns .column.main').removeAttr('style');})
jQuery('#newsletter_button').click(function(){UpdatedEmail=document.getElementById('email').value;var validRegex=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;
            if (UpdatedEmail === "" || UpdatedEmail.match(validRegex) === false || UpdatedEmail.match(validRegex) == null) {
                jQuery("#email-error").html("Please enter a valid email and try again").css("color", "red");
                setTimeout(function () { jQuery("#email-error").html('') }, 5000);
            } else {
                jQuery.ajax({
                    type: "POST",
                    url: "exp_center/experience/newsletter",
                    data: {
                        email: UpdatedEmail
                    },
                    success: function (data) {
                        console.log(data);
                        if (data.status == "failure") {
                            jQuery("#newsletter_responce").html(data.data.displayMessage).css("color", "Red");
                        } else if (data.status == "success" || data.status == "SUCCESS") {
                            /*jQuery("#newsletter_responce").html("Thank You").css("color", "Green");*/
                            jQuery("#newsletter-validate-detail.subscribe").hide();
                            jQuery(".newsletter .newsletter-success-content").show();

                        }
                        setTimeout(function () { jQuery("#newsletter_responce").html('') }, 5000);
                    },
                    error: function () {
                        $("#newsletter_responce").html("Something Went Wrong Try Again?").css("color", "red");
                        setTimeout(function () { $("#newsletter_responce").html('') }, 5000);
                    },
                })
            }
        })

        jQuery("video").each(function () {
            jQuery(this).attr('playsinline', '');
        });
        if(jQuery('#interested-submit').length > 0){
            jQuery('#interested-submit').attr('disabled','disabled');
        };
        jQuery("#confirm-booking-button")?.length && jQuery("#confirm-booking-button").attr('disabled', 'disabled');
        if(jQuery("#enquiry-form")?.length > 0){
            jQuery("#enquiry-form").on('change', function () {
                setTimeout(function () {
                    togglesubmitBtn();
                }, 300);
            });
            jQuery('#pur_drop .buying').click(function () {
                setTimeout(function () {
                    togglesubmitBtn();
                }, 300);
            });
        }

    })
})

function ValidateEmail() {
    var email = document.getElementById("email").value;
    const lblError = document.getElementById("email-error");
    const expr = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;lblError.innerHTML=(email!==""&&!expr.test(email))?"Invalid email address.":"";var emailField=document.getElementById("email");if(lblError.innerHTML==="Invalid email address."){emailField.classList.add("emailValidationFailed");}
else{emailField.classList.remove("emailValidationFailed");}}
const InquiryForm=()=>{const confirmBookingButton=document.getElementById('confirm-booking-button');const firstname=document.getElementById('first-name').value.trim();const lastname=document.getElementById('last-name').value.trim();const phoneNumber=document.getElementById('phonenumber').value;const email=document.getElementById('email').value;const company=document.getElementById('company-name').value.trim();const city=document.getElementById('select-city').value;const designation=document.getElementById('designation').value;const nofscooter=document.getElementById('no-of-scooters').value;const corporateEnquiry=document.getElementById('corporate_enquiry').value;const dateofbuying=document.getElementById('purp_buy').value;return{confirmBookingButton,firstname,lastname,phoneNumber,email,city,company,designation,nofscooter,corporateEnquiry,dateofbuying}}
const togglesubmitBtn=()=>{const{confirmBookingButton,firstname,lastname,phoneNumber,email,city,company,designation,nofscooter,corporateEnquiry,dateofbuying}=InquiryForm();if(!!(phoneNumber!==""&&firstname!==""&&lastname!==""&&email!==""&&city!==""&&company!==""&&designation!==""&&nofscooter!==""&&dateofbuying!=="")){confirmBookingButton.removeAttribute('disabled');}else{confirmBookingButton.setAttribute('disabled',true);}}
var SubmitInquiry=async(token)=>{const{firstname,lastname,phoneNumber,email,city,company,designation,nofscooter,corporateEnquiry,dateofbuying}=InquiryForm();jQuery('#confirm-booking-button').attr('disabled','disabled');jQuery.ajax({type:"POST",url:"exp_center/experience/inquiry",data:{first_name:FormInputSanitize(firstname),last_name:FormInputSanitize(lastname),phone_number:FormInputSanitize(phoneNumber),email:FormInputSanitize(email),city:FormInputSanitize(city),company:FormInputSanitize(company),designation:FormInputSanitize(designation),number_of_scooters:FormInputSanitize(nofscooter),corporateEnquiry:FormInputSanitize(corporateEnquiry),purpose_of_purchase:FormInputSanitize(dateofbuying),recaptchaToken:FormInputSanitize(token)},success:function(){jQuery('body').addClass('popup_overlapping');jQuery("#business-enquiry-success").show();},error:function(){jQuery('body').addClass('popup_overlapping');jQuery("#business-enquiry-success").show();},})}
const FieldFill=async(e)=>{if(e.value!=""){e.classList.add('mynamefield_focused');}else{e.classList.contains('mynamefield_focused')&&e.classList.remove('mynamefield_focused');}}
const ShowPopup=async(id)=>{document.getElementById(id).style.display='block';document.body.classList.add('popup_overlapping');}
const HidePopup=async(id)=>{document.getElementById(id).style.display='none';document.body.classList.remove('popup_overlapping');}
function selectOpt(evt){var city_value=evt.srcElement.innerHTML;var element=evt.srcElement;var city_code_html=evt.srcElement.getAttribute('value');if(element.classList.contains("opt")){jQuery('.corporate_city  #select-city').val(city_value);jQuery('.corporate_city  #select-city-code').val(city_code_html);jQuery('.corporate_city  #select-city').addClass('mynamefield_focused');jQuery('.corporate_city  #dropdown-city').hide();}
toggleConfirmBookingBtn();}
function selectOptBook(evt){var city_value=evt.srcElement.innerHTML;var element=evt.srcElement;var city_code_html=evt.srcElement.getAttribute('value');if(element.classList.contains("opt")){jQuery('.corporate_city  #select-city-book').val(city_value);jQuery('.corporate_city  #select-city-code-book').val(city_code_html);jQuery('.corporate_city  #select-city-book').addClass('mynamefield_focused');jQuery('.corporate_city  #dropdown-city').hide();}
if(jQuery(".ola_get_in_touch .select_city_center input").hasClass("mynamefield_focused")){jQuery(".ola_get_in_touch .select_city_center label").animate({bottom:"26px"},300).addClass("label_upward");jQuery(".ola_get_in_touch .select_city_center").addClass("select_city_center_active");}}
function selectP_Buy(evt){var text=evt.srcElement.getAttribute('value');jQuery('.purpose_buying #purp_buy').val(text);jQuery('.purpose_buying #purp_buy').addClass('mynamefield_focused');jQuery('.purpose_buying #pur_drop').hide();}
function search_city(){let input=document.getElementById('search_city').value
input=input.toLowerCase();let x=document.getElementsByClassName('city-enquiry');for(i=0;i<x.length;i++){if(!x[i].innerHTML.toLowerCase().includes(input)){x[i].style.display="none";}
else{x[i].style.display="block";}}}
function FormInputSanitize(FieldValString){const mapArray={'&':'','<':'','>':'','"':'',"'":'',"/":'',};const reg=/[&<>"'/]/ig;return FieldValString.replace(reg,(match)=>(mapArray[match]));}
const isNumber=(evt)=>{evt=(evt)?evt:window.event;return /^[0-9]*$/.test(parseInt(evt.key));}
const onlyLettersAndSpaces=(evt)=>{evt=(evt)?evt:window.event;return /^[A-Za-z\s]*$/.test(evt.key);}
const getFormValues=()=>{const interestedSubmit=document.getElementById('interested-submit');const phoneNumber=document.getElementById('interested_number').value;const Name=document.getElementById('interested_name').value.trim();const city_name=document.getElementById('select-city').value;const city_code=document.getElementById('select-city-code').value;const recaptchaToken=jQuery(".interested-pop-up .g-recaptcha-response").val();return{interestedSubmit,phoneNumber,Name,city_name,city_code,recaptchaToken}}
const toggleConfirmBookingBtn=()=>{const{interestedSubmit,phoneNumber,Name,city_name,recaptchaToken}=getFormValues();if(!!(phoneNumber.length===10&&Name!==""&&city_name!=="")){interestedSubmit.removeAttribute('disabled');}
else{interestedSubmit.setAttribute('disabled',true);}}
function mynamefield(){const{Name}=getFormValues();var name_element=document.getElementById("interested_name");if(Name!=""){name_element.classList.add("mynamefield_focused");}
else{name_element.classList.remove("mynamefield_focused");}}
var BookInterested=async(token)=>{const{phoneNumber,Name,city_name,city_code}=getFormValues();let cmmnt="Submitted lead popup from "+document.location.pathname;cmmnt=cmmnt.replaceAll('/','..');jQuery('#interested-submit').attr('disabled','disabled');jQuery.ajax({type:"POST",url:"/exp_center/experience/contact",data:{recaptchaToken:FormInputSanitize(token),lastname:'N/A',name:FormInputSanitize(Name),email:'N/A',telephone:FormInputSanitize(phoneNumber),city:FormInputSanitize(city_name),city_code:FormInputSanitize(city_code),comment:cmmnt,enquiry_type:"Sales",leadSource:siteSource?lsqMapping[siteSource]:'',insideSalesCohort:'Auto PopUp Form'},dataType:"json",success:function(data){_sendDataConversionApiv1(phoneNumber,Name,city_name)
jQuery(".interested_popup_fields").hide();jQuery(".callback_scheduled").css("display","flex");jQuery(".interested-pop-up").addClass("callback_scheduled_popup");},error:function(data){console.log(data);}});}
document.addEventListener('change',()=>{toggleConfirmBookingBtn();});window.en_intersted_btn=()=>{toggleConfirmBookingBtn();};function _sendDataConversionApiv1(phoneNumber,Name,city_name){var Phone='+91'+phoneNumber;var userData={ph:Phone,fn:Name,ct:city_name};return window?._conversionApi&&window._conversionApi('popup_are_you_intersted_to_get_ola_scooter',userData)}