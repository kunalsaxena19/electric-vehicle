require(['jquery','jquery/ui'],function($){$(document).ready(function(){window.setSliderCardAsActive=(evt=null,index)=>{const cardWidth=606;if(window.innerWidth<$('.toggle-cards-collection-outer').width()){$('.toggle-cards-collection-outer').css('width',window.innerWidth);}
let screenWidth=$('.toggle-cards-collection-outer').width();const allTiles=$('.toggleCardTile');const smallCardWidth=((screenWidth-cardWidth-10-(allTiles.length*10))/(allTiles.length-1))-1;console.log('Screen, card width, small',screenWidth,cardWidth,smallCardWidth);let el=allTiles[0];if(evt){el=evt.target;}
else if(index!==undefined){el=allTiles[index];}
const nearTile=$(el).closest('.toggleCardTile');if(!nearTile.hasClass("current")){$(".current").removeClass('current');$(nearTile).addClass('current');clearTimeout(window.tileTimeout);window.tileTimeout=setTimeout(()=>{setSliderCardAsActive(null,(index+1)%window.extended_waranty_tiles_qty)},5000)}
allTiles.each((index,element)=>{const videoEl=$(element).find('video');const imgEl=$(element).find('img');const txtEl=$(element).find('.txt-block');const descEl=$(element).find('.card-desc');imgEl&&imgEl.css('width',cardWidth);if($(element).hasClass('current')){$(element).removeClass('smallInactivecard');$(element).css('width',cardWidth);$(element).addClass('bigActiveCard');imgEl&&imgEl.css('transform','translate(0, 0)');const tmOut=setTimeout(function(){if(videoEl&&videoEl.length>0){$(videoEl).removeClass('fadeOut');$(videoEl).addClass('animated fadeIn');$(videoEl).css('display','block');$(videoEl).get(0).play();imgEl&&imgEl.css('display','none');}
$(descEl).css('transition','all 0.2s');$(descEl).css('opacity','1');},700);}else{$(element).removeClass('bigActiveCard');$(element).css('width',smallCardWidth);$(element).addClass('smallInactivecard');imgEl.css('transform','translate(-30%, 0)');if(videoEl&&videoEl.length>0){$(videoEl).removeClass('fadeIn');$(videoEl).addClass('animated fadeOut');}
$(descEl).css('transition','all 0s');$(descEl).css('opacity','0');const tmOut=setTimeout(function(){imgEl&&imgEl.css('display','block');$(videoEl).css('display','none');},200);}});if(!evt){$('.toggle-cards-collection-inner').show();$('.toggle-cards-collection-inner').css("display","flex");}}
window.extended_waranty_tiles_qty=document.querySelectorAll(".toggle-cards-collection-inner .toggleCardTile").length;setSliderCardAsActive(null,1);});});